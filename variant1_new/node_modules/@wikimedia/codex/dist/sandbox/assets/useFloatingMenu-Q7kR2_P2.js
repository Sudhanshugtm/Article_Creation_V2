var et=Object.defineProperty,tt=Object.defineProperties;var nt=Object.getOwnPropertyDescriptors;var Me=Object.getOwnPropertySymbols;var at=Object.prototype.hasOwnProperty,lt=Object.prototype.propertyIsEnumerable;var $e=(e,t,a)=>t in e?et(e,t,{enumerable:!0,configurable:!0,writable:!0,value:a}):e[t]=a,W=(e,t)=>{for(var a in t||(t={}))at.call(t,a)&&$e(e,a,t[a]);if(Me)for(var a of Me(t))lt.call(t,a)&&$e(e,a,t[a]);return e},se=(e,t)=>tt(e,nt(t));var oe=(e,t,a)=>new Promise((d,o)=>{var r=p=>{try{y(a.next(p))}catch(i){o(i)}},u=p=>{try{y(a.throw(p))}catch(i){o(i)}},y=p=>p.done?d(p.value):Promise.resolve(p.value).then(r,u);y((a=a.apply(e,t)).next())});import{d as te,bi as it,C as ge,r as S,H as ve,B as N,t as re,bj as st,_ as ne,a as Q,b as $,o as g,g as T,j as xe,w as de,n as ee,G as Le,T as ot,c as m,L as P,bk as ut,bl as rt,bm as dt,bn as U,e as B,q as ce,s as R,bo as ct,h as Y,k as Ne,f as L,F as Z,E as G,i as ft,bp as ht,I as De,v as gt,K as ke,z as vt,N as Ce,a7 as mt,ac as bt,p as Se,Q as pt,bq as Be}from"./DemoBaseLayout.vue_vue_type_style_index_0_lang-CAizk-wB.js";/* empty css                                                        */import{i as yt,g as _t,c as wt,d as Mt,a as $t,o as xt,s as kt,f as Ct,h as Te}from"./floating-ui.dom-DKIfu18g.js";const St=te({name:"CdxThumbnail",components:{CdxIcon:ge},props:{thumbnail:{type:[Object,null],default:null},placeholderIcon:{type:[String,Object],default:it}},setup:e=>{const t=S(!1),a=S({}),d=o=>{const r=o.replace(/([\\"\n])/g,"\\$1"),u=new Image;u.onload=()=>{a.value={backgroundImage:'url("'.concat(r,'")')},t.value=!0},u.onerror=()=>{t.value=!1},u.src=r};return ve(()=>{var o;(o=e.thumbnail)!=null&&o.url&&d(e.thumbnail.url)}),N(re(e,"thumbnail"),(o,r)=>{if(!(o!=null&&o.url)){t.value=!1,a.value={};return}(r==null?void 0:r.url)!==o.url&&(t.value=!1,d(o.url))},{deep:!0}),{thumbnailStyle:a,thumbnailLoaded:t,NoInvertClass:st}}}),Bt={class:"cdx-thumbnail"},Tt={key:0,class:"cdx-thumbnail__placeholder"};function It(e,t,a,d,o,r){const u=Q("cdx-icon");return g(),$("span",Bt,[e.thumbnailLoaded?T("v-if",!0):(g(),$("span",Tt,[xe(u,{icon:e.placeholderIcon,class:"cdx-thumbnail__placeholder__icon--vue"},null,8,["icon"])])),xe(ot,{name:"cdx-thumbnail__image"},{default:de(()=>[e.thumbnailLoaded?(g(),$("span",{key:0,style:Le(e.thumbnailStyle),class:ee([e.NoInvertClass,"cdx-thumbnail__image"])},null,6)):T("v-if",!0)]),_:1})])}const Rt=ne(St,[["render",It]]);function Lt(e){return e!=null&&typeof e=="object"&&"$el"in e}function he(e){if(Lt(e)){const t=e.$el;return yt(t)&&_t(t)==="#comment"?null:t}return e}function yn(e){return{name:"arrow",options:e,fn(t){const a=he(P(e.element));return a==null?{}:Mt({element:a,padding:e.padding}).fn(t)}}}function Oe(e){return typeof window=="undefined"?1:(e.ownerDocument.defaultView||window).devicePixelRatio||1}function Ie(e,t){const a=Oe(e);return Math.round(t*a)/a}function Nt(e,t,a){a===void 0&&(a={});const d=a.whileElementsMounted,o=m(()=>{var w;return(w=P(a.open))!=null?w:!0}),r=m(()=>P(a.middleware)),u=m(()=>{var w;return(w=P(a.placement))!=null?w:"bottom"}),y=m(()=>{var w;return(w=P(a.strategy))!=null?w:"absolute"}),p=m(()=>{var w;return(w=P(a.transform))!=null?w:!0}),i=m(()=>he(e.value)),c=m(()=>he(t.value)),_=S(0),v=S(0),f=S(y.value),b=S(u.value),M=ut({}),D=S(!1),q=m(()=>{const w={position:f.value,left:"0",top:"0"};if(!c.value)return w;const E=Ie(c.value,_.value),V=Ie(c.value,v.value);return p.value?W(se(W({},w),{transform:"translate("+E+"px, "+V+"px)"}),Oe(c.value)>=1.5&&{willChange:"transform"}):{position:f.value,left:E+"px",top:V+"px"}});let O;function H(){i.value==null||c.value==null||wt(i.value,c.value,{middleware:r.value,placement:u.value,strategy:y.value}).then(w=>{_.value=w.x,v.value=w.y,f.value=w.strategy,b.value=w.placement,M.value=w.middlewareData,D.value=!0})}function k(){typeof O=="function"&&(O(),O=void 0)}function K(){if(k(),d===void 0){H();return}if(i.value!=null&&c.value!=null){O=d(i.value,c.value,H);return}}function J(){o.value||(D.value=!1)}return N([r,u,y],H,{flush:"sync"}),N([i,c],K,{flush:"sync"}),N(o,J,{flush:"sync"}),rt()&&dt(k),{x:U(_),y:U(v),strategy:U(f),placement:U(b),middlewareData:U(M),isPositioned:U(D),floatingStyles:q,update:H}}function Dt(e){return e.replace(/([\\{}()|.?*+\-^$[\]])/g,"\\$1")}const Ot="[̀-ͯ҃-҉֑-ׇֽֿׁׂׅׄؐ-ًؚ-ٰٟۖ-ۜ۟-۪ۤۧۨ-ܑۭܰ-݊ަ-ް߫-߽߳ࠖ-࠙ࠛ-ࠣࠥ-ࠧࠩ-࡙࠭-࡛࣓-ࣣ࣡-ःऺ-़ा-ॏ॑-ॗॢॣঁ-ঃ়া-ৄেৈো-্ৗৢৣ৾ਁ-ਃ਼ਾ-ੂੇੈੋ-੍ੑੰੱੵઁ-ઃ઼ા-ૅે-ૉો-્ૢૣૺ-૿ଁ-ଃ଼ା-ୄେୈୋ-୍ୖୗୢୣஂா-ூெ-ைொ-்ௗఀ-ఄా-ౄె-ైొ-్ౕౖౢౣಁ-ಃ಼ಾ-ೄೆ-ೈೊ-್ೕೖೢೣഀ-ഃ഻഼ാ-ൄെ-ൈൊ-്ൗൢൣංඃ්ා-ුූෘ-ෟෲෳัิ-ฺ็-๎ັິ-ູົຼ່-ໍ༹༘༙༵༷༾༿ཱ-྄྆྇ྍ-ྗྙ-ྼ࿆ါ-ှၖ-ၙၞ-ၠၢ-ၤၧ-ၭၱ-ၴႂ-ႍႏႚ-ႝ፝-፟ᜒ-᜔ᜲ-᜴ᝒᝓᝲᝳ឴-៓៝᠋-᠍ᢅᢆᢩᤠ-ᤫᤰ-᤻ᨗ-ᨛᩕ-ᩞ᩠-᩿᩼᪰-᪾ᬀ-ᬄ᬴-᭄᭫-᭳ᮀ-ᮂᮡ-ᮭ᯦-᯳ᰤ-᰷᳐-᳔᳒-᳨᳭ᳲ-᳴᳷-᳹᷀-᷹᷻-᷿⃐-⃰⳯-⵿⳱ⷠ-〪ⷿ-゙゚〯꙯-꙲ꙴ-꙽ꚞꚟ꛰꛱ꠂ꠆ꠋꠣ-ꠧꢀꢁꢴ-ꣅ꣠-꣱ꣿꤦ-꤭ꥇ-꥓ꦀ-ꦃ꦳-꧀ꧥꨩ-ꨶꩃꩌꩍꩻ-ꩽꪰꪲ-ꪴꪷꪸꪾ꪿꫁ꫫ-ꫯꫵ꫶ꯣ-ꯪ꯬꯭ﬞ︀-️︠-︯]";function Ht(e,t){if(!e)return[t,"",""];const a=Dt(e),d=new RegExp(a+Ot+"*","i").exec(t);if(!d||d.index===void 0)return[t,"",""];const o=d.index,r=o+d[0].length,u=t.slice(o,r),y=t.slice(0,o),p=t.slice(r,t.length);return[y,u,p]}const At=te({name:"CdxSearchResultTitle",props:{title:{type:String,required:!0},searchQuery:{type:String,default:""}},setup:e=>({titleChunks:m(()=>Ht(e.searchQuery,String(e.title)))})}),Kt={class:"cdx-search-result-title"},Et={class:"cdx-search-result-title__match"};function Vt(e,t,a,d,o,r){return g(),$("span",Kt,[B("bdi",null,[ce(R(e.titleChunks[0]),1),B("span",Et,R(e.titleChunks[1]),1),ce(R(e.titleChunks[2]),1)])])}const jt=ne(At,[["render",Vt]]),Pt=te({name:"CdxMenuItem",components:{CdxIcon:ge,CdxThumbnail:Rt,CdxSearchResultTitle:jt},props:{id:{type:String,required:!0},value:{type:[String,Number],required:!0},disabled:{type:Boolean,default:!1},selected:{type:Boolean,default:!1},active:{type:Boolean,default:!1},highlighted:{type:Boolean,default:!1},label:{type:String,default:""},match:{type:String,default:""},supportingText:{type:String,default:""},url:{type:String,default:""},urlNewTab:{type:Boolean,default:!1},icon:{type:[String,Object],default:""},showThumbnail:{type:Boolean,default:!1},thumbnail:{type:[Object,null],default:null},description:{type:[String,null],default:""},searchQuery:{type:String,default:""},boldLabel:{type:Boolean,default:!1},hideDescriptionOverflow:{type:Boolean,default:!1},language:{type:Object,default:()=>({})},action:{type:String,default:"default"},multiselect:{type:Boolean,default:!1}},emits:["change"],setup:(e,{emit:t})=>{const a=()=>{e.highlighted||t("change","highlighted",!0)},d=()=>{t("change","highlighted",!1)},o=_=>{_.button===0&&t("change","active",!0)},r=()=>{t("change","selected",!0)},u=m(()=>e.searchQuery.length>0),y=m(()=>({"cdx-menu-item--selected":e.selected,"cdx-menu-item--active":e.active&&e.highlighted,"cdx-menu-item--highlighted":e.highlighted,"cdx-menu-item--destructive":e.action&&e.action==="destructive","cdx-menu-item--enabled":!e.disabled,"cdx-menu-item--disabled":e.disabled,"cdx-menu-item--highlight-query":u.value,"cdx-menu-item--bold-label":e.boldLabel,"cdx-menu-item--has-description":!!e.description,"cdx-menu-item--hide-description-overflow":e.hideDescriptionOverflow})),p=m(()=>e.url?"a":"span"),i=m(()=>e.url&&e.urlNewTab?{target:"_blank",rel:"noopener noreferrer"}:{}),c=m(()=>e.label||String(e.value));return{onMouseMove:a,onMouseLeave:d,onMouseDown:o,onClick:r,highlightQuery:u,rootClasses:y,contentTag:p,linkAttrs:i,title:c,cdxIconCheck:ct}}}),Qt=["id","aria-disabled","aria-selected","aria-checked"],qt={class:"cdx-menu-item__text"},Ft=["lang"],zt=["lang"],Wt=["lang"],Ut=["lang"];function Gt(e,t,a,d,o,r){const u=Q("cdx-thumbnail"),y=Q("cdx-icon"),p=Q("cdx-search-result-title");return g(),$("li",{id:e.id,role:"option",class:ee(["cdx-menu-item",e.rootClasses]),"aria-disabled":e.disabled,"aria-selected":e.selected&&!e.multiselect?!0:void 0,"aria-checked":e.selected&&e.multiselect?!0:void 0,onMousemove:t[0]||(t[0]=(...i)=>e.onMouseMove&&e.onMouseMove(...i)),onMouseleave:t[1]||(t[1]=(...i)=>e.onMouseLeave&&e.onMouseLeave(...i)),onMousedown:t[2]||(t[2]=Ne((...i)=>e.onMouseDown&&e.onMouseDown(...i),["prevent"])),onClick:t[3]||(t[3]=(...i)=>e.onClick&&e.onClick(...i))},[Y(e.$slots,"default",{},()=>[(g(),L(ft(e.contentTag),G({href:e.url?e.url:void 0},e.url?e.linkAttrs:{},{class:"cdx-menu-item__content"}),{default:de(()=>{var i,c,_,v,f,b;return[e.showThumbnail?(g(),L(u,{key:0,thumbnail:e.thumbnail,class:"cdx-menu-item__thumbnail"},null,8,["thumbnail"])):e.icon?(g(),L(y,{key:1,icon:e.icon,class:"cdx-menu-item__icon"},null,8,["icon"])):T("v-if",!0),B("span",qt,[e.highlightQuery?(g(),L(p,{key:0,title:e.title,"search-query":e.searchQuery,lang:(i=e.language)==null?void 0:i.label},null,8,["title","search-query","lang"])):(g(),$("span",{key:1,class:"cdx-menu-item__text__label",lang:(c=e.language)==null?void 0:c.label},[B("bdi",null,R(e.title),1)],8,Ft)),e.match?(g(),$(Z,{key:2},[t[4]||(t[4]=ce(R(" ")+" ")),e.highlightQuery?(g(),L(p,{key:0,title:e.match,"search-query":e.searchQuery,lang:(_=e.language)==null?void 0:_.match},null,8,["title","search-query","lang"])):(g(),$("span",{key:1,class:"cdx-menu-item__text__match",lang:(v=e.language)==null?void 0:v.match},[B("bdi",null,R(e.match),1)],8,zt))],64)):T("v-if",!0),e.supportingText?(g(),$(Z,{key:3},[t[5]||(t[5]=ce(R(" ")+" ")),B("span",{class:"cdx-menu-item__text__supporting-text",lang:(f=e.language)==null?void 0:f.supportingText},[B("bdi",null,R(e.supportingText),1)],8,Wt)],64)):T("v-if",!0),e.description?(g(),$("span",{key:4,class:"cdx-menu-item__text__description",lang:(b=e.language)==null?void 0:b.description},[B("bdi",null,R(e.description),1)],8,Ut)):T("v-if",!0)]),e.multiselect&&e.selected?(g(),L(y,{key:2,icon:e.cdxIconCheck,size:"small",class:"cdx-menu-item__selected-icon"},null,8,["icon"])):T("v-if",!0)]}),_:1},16,["href"]))])],42,Qt)}const Jt=ne(Pt,[["render",Gt]]),Xt=te({name:"CdxProgressBar",props:{inline:{type:Boolean,default:!1},disabled:{type:Boolean,default:!1}},setup(e,{attrs:t}){ht(()=>!e.inline&&!t["aria-label"]&&!t["aria-hidden"]);const a=m(()=>({"cdx-progress-bar--block":!e.inline,"cdx-progress-bar--inline":e.inline,"cdx-progress-bar--enabled":!e.disabled,"cdx-progress-bar--disabled":e.disabled})),d=m(()=>e.inline?"true":void 0);return{rootClasses:a,computedAriaHidden:d}}}),Yt=["aria-hidden","aria-disabled"];function Zt(e,t,a,d,o,r){return g(),$("div",{class:ee(["cdx-progress-bar",e.rootClasses]),role:"progressbar","aria-hidden":e.computedAriaHidden,"aria-disabled":e.disabled},t[0]||(t[0]=[B("div",{class:"cdx-progress-bar__bar"},null,-1)]),10,Yt)}const en=ne(Xt,[["render",Zt]]);function tn(e,t){const a=S(!1);let d=!1;if(typeof window!="object"||!("IntersectionObserver"in window&&"IntersectionObserverEntry"in window&&"intersectionRatio"in window.IntersectionObserverEntry.prototype))return a;const o=new window.IntersectionObserver(r=>{const u=r[0];u&&(a.value=u.isIntersecting)},t);return ve(()=>{d=!0,e.value&&o.observe(e.value)}),De(()=>{d=!1,o.disconnect()}),N(e,r=>{d&&(o.disconnect(),a.value=!1,r&&o.observe(r))}),a}function ue(e){return e!==null&&Array.isArray(e)}function X(e){return"items"in e}const nn=te({name:"CdxMenu",components:{CdxMenuItem:Jt,CdxIcon:ge,CdxProgressBar:en},inheritAttrs:!1,props:{menuItems:{type:Array,required:!0},footer:{type:Object,default:null},selected:{type:[String,Number,Array,null],required:!0},expanded:{type:Boolean,required:!0},showPending:{type:Boolean,default:!1},visibleItemLimit:{type:Number,default:null},showThumbnail:{type:Boolean,default:!1},boldLabel:{type:Boolean,default:!1},hideDescriptionOverflow:{type:Boolean,default:!1},searchQuery:{type:String,default:""},showNoResultsSlot:{type:Boolean,default:null},renderInPlace:{type:Boolean,default:!1}},emits:["update:selected","update:expanded","menu-item-click","menu-item-keyboard-navigation","load-more"],setup(e,{emit:t,slots:a,attrs:d}){const o=gt();let r=0;const u=new Map;function y(){return r+=1,"".concat(o,"-").concat(r)}function p(n){n.forEach(l=>{if(X(l)){const s="group-".concat(l.label);u.has(s)||u.set(s,y()),l.items.forEach(h=>{u.has(h.value)||u.set(h.value,y())})}else u.has(l.value)||u.set(l.value,y())})}N(re(e,"menuItems"),n=>{function l(h){const C=new Set;return h.forEach(x=>{X(x)?(C.add("group-".concat(x.label)),x.items.forEach(z=>C.add(z.value))):C.add(x.value)}),C}const s=l(n);u.forEach((h,C)=>{s.has(C)||u.delete(C)})},{deep:!0});const i=m(()=>{p(e.menuItems),e.footer&&p([e.footer]);const n=e.footer&&e.menuItems?[...e.menuItems,e.footer]:e.menuItems;function l(s){const h=u.get(s.value);if(!h)throw new Error("No ID found for menu item with value ".concat(s.value));return se(W({},s),{id:h})}return n.map(s=>{if(X(s)){const h=u.get("group-".concat(s.label));if(!h)throw new Error("No ID found for menu item with value group-".concat(s.label));return se(W({},s),{id:h,items:s.items.map(C=>l(C))})}else return l(s)})}),c=m(()=>{const n=[];return i.value.forEach(l=>{X(l)?n.push(...l.items):n.push(l)}),n}),_=m(()=>a["no-results"]?e.showNoResultsSlot!==null?e.showNoResultsSlot:c.value.length===0:!1),v=S(null),f=S(!1),b=S(null),M=ke("CdxTeleportMenus",!1),D=m(()=>!P(M)||e.renderInPlace),q=ke("CdxTeleportTarget",void 0),O=m(()=>{var n;return(n=P(q))!=null?n:"body"}),H="additions removals";let k="",K=null;function J(){k="",K!==null&&(clearTimeout(K),K=null)}function w(){K!==null&&clearTimeout(K),K=setTimeout(J,1500)}function E(){var n;return(n=c.value.find(l=>ue(e.selected)?e.selected.includes(l.value):l.value===e.selected))!=null?n:null}const V=m(()=>ue(e.selected));function He(n){return ue(e.selected)?e.selected.includes(n):n===e.selected}function fe(n){if(ue(e.selected)){const l=e.selected.includes(n)?e.selected.filter(s=>s!==n):e.selected.concat(n);t("update:selected",l)}else t("update:selected",n)}function I(n,l){if(!(l!=null&&l.disabled))switch(n){case"selected":l&&fe(l.value),V.value||t("update:expanded",!1),b.value=null;break;case"highlighted":v.value=l!=null?l:null,f.value=!1;break;case"highlightedViaKeyboard":v.value=l!=null?l:null,f.value=!0;break;case"active":b.value=l!=null?l:null;break}}const j=m(()=>{if(v.value!==null)return c.value.findIndex(n=>n.value===v.value.value)});function me(n){n&&(I("highlightedViaKeyboard",n),t("menu-item-keyboard-navigation",n))}function be(n){var h;const l=C=>{for(let x=C-1;x>=0;x--)if(!c.value[x].disabled)return c.value[x]};n=n!=null?n:c.value.length;const s=(h=l(n))!=null?h:l(c.value.length);me(s)}function pe(n){var h;const l=C=>c.value.find((x,z)=>!x.disabled&&z>C);n=n!=null?n:-1;const s=(h=l(n))!=null?h:l(-1);me(s)}function Ae(n){if(n.key==="Clear")return J(),!0;if(n.key==="Backspace")return k=k.slice(0,-1),w(),!0;if(n.key.length===1&&!n.metaKey&&!n.ctrlKey&&!n.altKey){if(e.expanded||t("update:expanded",!0),n.key===" "&&k.length<1)return!1;k+=n.key.toLowerCase();const l=k.length>1&&k.split("").every(x=>x===k[0]);let s=c.value,h=k;l&&j.value!==void 0&&(s=s.slice(j.value+1).concat(s.slice(0,j.value)),h=k[0]);const C=s.find(x=>{var z;return!x.disabled&&String((z=x.label)!=null?z:x.value).toLowerCase().startsWith(h)});return C&&(I("highlightedViaKeyboard",C),F()),w(),!0}return!1}function Ke(n,{prevent:l=!0,characterNavigation:s=!1}={}){if(s){if(Ae(n))return n.preventDefault(),!0;J()}function h(){l&&(n.preventDefault(),n.stopPropagation())}switch(n.key){case"Enter":case" ":return h(),e.expanded?(v.value&&f.value&&fe(v.value.value),V.value||t("update:expanded",!1)):t("update:expanded",!0),!0;case"Tab":return e.expanded&&v.value&&f.value&&!V.value&&(fe(v.value.value),t("update:expanded",!1)),!0;case"ArrowUp":return h(),e.expanded?(v.value===null&&I("highlightedViaKeyboard",E()),be(j.value)):t("update:expanded",!0),F(),!0;case"ArrowDown":return h(),e.expanded?(v.value===null&&I("highlightedViaKeyboard",E()),pe(j.value)):t("update:expanded",!0),F(),!0;case"Home":return h(),e.expanded?(v.value===null&&I("highlightedViaKeyboard",E()),pe()):t("update:expanded",!0),F(),!0;case"End":return h(),e.expanded?(v.value===null&&I("highlightedViaKeyboard",E()),be()):t("update:expanded",!0),F(),!0;case"Escape":return h(),t("update:expanded",!1),!0;default:return!1}}function ye(){I("active",null)}const A=[],_e=S(void 0),Ee=tn(_e,{threshold:.8});N(Ee,n=>{n&&t("load-more")});function Ve(n,l){if(n){A[l]=n.$el;const s=e.visibleItemLimit;if(!s||e.menuItems.length<s)return;const h=Math.min(s,Math.max(2,Math.floor(.2*e.menuItems.length)));l===e.menuItems.length-h&&(_e.value=n.$el)}}const je=S(),ae=S();function F(){const n=ae.value&&ae.value.scrollHeight>ae.value.clientHeight;if(j.value===void 0||!n)return;const l=j.value>=0?j.value:0;requestAnimationFrame(()=>{A[l].scrollIntoView({behavior:"smooth",block:"nearest"})})}const le=S(null),ie=S(null);function we(){return oe(this,null,function*(){yield Ce(),Pe(),Qe(),yield Ce(),F()})}function Pe(){if(e.footer){const n=A[A.length-1];ie.value=n.scrollHeight}else ie.value=null}function Qe(){if(!e.visibleItemLimit||A.length<=e.visibleItemLimit){le.value=null;return}const n=A[0].getBoundingClientRect().top,l=A[e.visibleItemLimit].getBoundingClientRect().top;le.value=l-n+2}function qe(n){return{"cdx-menu__group-wrapper--hide-label":!!n.hideLabel}}function Fe(n){return c.value.indexOf(n)}function ze(n){var l,s;return W({selected:He(n.value),active:n.value===((l=b.value)==null?void 0:l.value),highlighted:n.value===((s=v.value)==null?void 0:s.value),showThumbnail:e.showThumbnail,boldLabel:e.boldLabel,hideDescriptionOverflow:e.hideDescriptionOverflow,searchQuery:e.searchQuery,multiselect:V.value},n)}function We(n){return{change:(l,s)=>I(l,s?n:null),click:()=>t("menu-item-click",n)}}function Ue(n){var l,s;return{menuItem:n,active:n.value===((l=b.value)==null?void 0:l.value)&&n.value===((s=v.value)==null?void 0:s.value)}}ve(()=>{document.addEventListener("mouseup",ye)}),De(()=>{document.removeEventListener("mouseup",ye)}),N(re(e,"expanded"),n=>oe(null,null,function*(){if(n){const l=E();l&&!v.value&&I("highlighted",l),yield we()}else I("highlighted",null)})),N(re(e,"menuItems"),n=>oe(null,null,function*(){n.length<A.length&&(A.length=n.length),e.expanded&&(yield we())}),{deep:!0});const Ge=m(()=>({"max-height":le.value?"".concat(le.value,"px"):void 0,"margin-bottom":ie.value?"".concat(ie.value,"px"):void 0})),Je=m(()=>({"cdx-menu--has-footer":!!e.footer})),{rootClasses:Xe,rootStyle:Ye,otherAttrs:Ze}=vt(d,Je);return{listBoxStyle:Ge,rootClasses:Xe,rootStyle:Ye,otherAttrs:Ze,assignTemplateRef:Ve,computedMenuEntries:i,computedMenuItems:c,computedShowNoResultsSlot:_,highlightedMenuItem:v,highlightedViaKeyboard:f,teleportDisabled:D,computedTarget:O,handleMenuItemChange:I,handleKeyNavigation:Ke,ariaRelevant:H,isMultiselect:V,rootElement:je,menuListbox:ae,getGroupWrapperClasses:qe,getMenuItemIndex:Fe,getMenuItemBindings:ze,getMenuItemHandlers:We,getSlotBindings:Ue,isMenuGroupData:X}},methods:{isExpanded(){return this.expanded},getRootElement(){return this.rootElement},getHighlightedMenuItem(){return this.expanded?this.highlightedMenuItem:null},getHighlightedViaKeyboard(){return this.highlightedViaKeyboard},getComputedMenuItems(){return this.computedMenuItems},clearActive(){this.handleMenuItemChange("active",null)},delegateKeyNavigation(e,{prevent:t=!0,characterNavigation:a=!1}={}){return this.handleKeyNavigation(e,{prevent:t,characterNavigation:a})}}}),an=["aria-live","aria-relevant","aria-multiselectable"],ln={key:0,class:"cdx-menu__pending cdx-menu-item"},sn={key:1,class:"cdx-menu__no-results cdx-menu-item",role:"option"},on=["aria-labelledby","aria-describedby"],un={class:"cdx-menu__group__meta"},rn={class:"cdx-menu__group__meta__text"},dn=["id"],cn=["id"];function fn(e,t,a,d,o,r){const u=Q("cdx-icon"),y=Q("cdx-menu-item"),p=Q("cdx-progress-bar");return g(),L(pt,{to:e.computedTarget,disabled:e.teleportDisabled},[mt(B("div",{ref:"rootElement",class:ee(["cdx-menu",e.rootClasses]),style:Le(e.rootStyle)},[B("ul",G({ref:"menuListbox",class:"cdx-menu__listbox",role:"listbox",tabindex:"-1",style:e.listBoxStyle,"aria-live":e.showPending?"polite":void 0,"aria-relevant":e.showPending?e.ariaRelevant:void 0,"aria-multiselectable":e.isMultiselect?!0:void 0},e.otherAttrs,{onMousedown:t[0]||(t[0]=Ne(()=>{},["prevent"]))}),[e.showPending&&e.computedMenuItems.length===0&&e.$slots.pending?(g(),$("li",ln,[Y(e.$slots,"pending")])):T("v-if",!0),e.computedShowNoResultsSlot?(g(),$("li",sn,[Y(e.$slots,"no-results")])):T("v-if",!0),(g(!0),$(Z,null,Se(e.computedMenuEntries,(i,c)=>(g(),$(Z,{key:c},[e.isMenuGroupData(i)?(g(),$("li",{key:0,class:ee(["cdx-menu__group-wrapper",e.getGroupWrapperClasses(i)])},[B("ul",{class:"cdx-menu__group",role:"group","aria-labelledby":i.id+"-label","aria-describedby":i.id+"-description"},[B("span",un,[i.icon?(g(),L(u,{key:0,class:"cdx-menu__group__icon",icon:i.icon},null,8,["icon"])):T("v-if",!0),B("span",rn,[B("span",{id:i.id+"-label",class:"cdx-menu__group__label"},R(i.label),9,dn),i.description?(g(),$("span",{key:0,id:i.id+"-description",class:"cdx-menu__group__description"},R(i.description),9,cn)):T("v-if",!0)])]),(g(!0),$(Z,null,Se(i.items,_=>(g(),L(y,G({key:_.value,ref_for:!0,ref:v=>e.assignTemplateRef(v,e.getMenuItemIndex(_)),class:"cdx-menu__group__item"},{ref_for:!0},e.getMenuItemBindings(_),Be(e.getMenuItemHandlers(_))),{default:de(()=>[Y(e.$slots,"default",G({ref_for:!0},e.getSlotBindings(_)))]),_:2},1040))),128))],8,on)],2)):(g(),L(y,G({key:1,ref_for:!0,ref:_=>e.assignTemplateRef(_,e.getMenuItemIndex(i))},{ref_for:!0},e.getMenuItemBindings(i),Be(e.getMenuItemHandlers(i))),{default:de(()=>[Y(e.$slots,"default",G({ref_for:!0},e.getSlotBindings(i)))]),_:2},1040))],64))),128)),e.showPending?(g(),L(p,{key:2,class:"cdx-menu__progress-bar",inline:!0})):T("v-if",!0)],16,an)],6),[[bt,e.expanded]])],8,["to","disabled"])}const _n=ne(nn,[["render",fn]]);function hn(e){return e&&"$el"in e?e.$el:e}const Re=16,gn=128;function wn(e,t,a){var v;const d=()=>{var f;return(f=t.value)==null?void 0:f.isExpanded()},o=m(()=>{var f;return(f=t.value)==null?void 0:f.getRootElement()}),r=[xt(a==null?void 0:a.offset),kt({padding:Re,apply({rects:f,elements:b,availableHeight:M,availableWidth:D}){Object.assign(b.floating.style,{width:"".concat(a!=null&&a.useAvailableWidth?D:f.reference.width,"px"),maxHeight:"".concat(Math.max(gn,M),"px")})}}),Ct({padding:Re-1}),Te({strategy:"escaped"}),Te()],{floatingStyles:u,placement:y,middlewareData:p,update:i}=Nt(e,o,{middleware:r,placement:(v=a==null?void 0:a.placement)!=null?v:"bottom"}),c=m(()=>{var b,M;return!d()||!!((b=p.value.hide)!=null&&b.escaped)||((M=p.value.hide)==null?void 0:M.referenceHidden)?"hidden":"visible"});N([u,c,y],([f,b,M])=>{var D,q,O,H,k;Object.assign((q=(D=o.value)==null?void 0:D.style)!=null?q:{},{visibility:b,position:f.position,top:"".concat(f.top,"px"),right:"unset",left:"".concat(f.left,"px"),transform:(O=f.transform)!=null?O:"none",borderTopLeftRadius:M==="bottom"&&b==="visible"?"0":"",borderTopRightRadius:M==="bottom"&&b==="visible"?"0":"",borderBottomLeftRadius:M==="top"&&b==="visible"?"0":"",borderBottomRightRadius:M==="top"&&b==="visible"?"0":""}),Object.assign((k=(H=hn(e.value))==null?void 0:H.style)!=null?k:{},{borderTopLeftRadius:M==="top"&&b==="visible"?"0":"",borderTopRightRadius:M==="top"&&b==="visible"?"0":"",borderBottomLeftRadius:M==="bottom"&&b==="visible"?"0":"",borderBottomRightRadius:M==="bottom"&&b==="visible"?"0":""})});let _=null;N(d,f=>{if(f){if(!e.value||!o.value)return;_=$t("$el"in e.value?e.value.$el:e.value,o.value,i)}else _&&(_(),_=null)})}export{_n as C,yn as a,Nt as b,hn as c,tn as d,Jt as e,en as f,Rt as g,wn as u};
